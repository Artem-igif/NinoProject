<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="home.css">
</head>
<body>
    <nav class="nav">
        <button class="nav-button not-border" id="home">Home</button>
        <button class="nav-button border" id="courses">Courses</button>
        <button class="nav-button" id="library">Library</button>
        <button class="nav-button border" disabled id="build">Build</button>
        <button class="settings nav-button" id="settings">Settings</button>
    </nav>
    <div id="container"></div>
    <script>
        document.getElementById('home').addEventListener('click', async () => {
            const response = await fetch('http://localhost:3000/exercices')
            const data = await response.json()
            const list = [...data]
            const container = document.getElementById('container')

            if (data.error) {
                console.log(data.error)
            }

            container.textContent = list
              .map((el, index) => {
                return `
                <button id='${index}' class='play-buttons'><h2>Learn</h2></button>
                `
              })
              .join('\n')
        })

        document.querySelector('.play-buttons').addEventListener('click', async (e) => {
            const buttonId = e.target.id
            const response = await fetch(`http://localhost:3000/exercice/${buttonId}`)
        })
    </script>
</body>
</html>